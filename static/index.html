<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HackerChat</title>
<style>
  :root {
    --bg:#000; --ink:#0f0; --panel:#010; --line:#0f0;
  }
  * { box-sizing:border-box; }
  body { margin:0; font-family:monospace; background:var(--bg); color:var(--ink);}
  #header { padding:10px; border-bottom:1px solid var(--line); background:var(--panel); display:flex; justify-content:space-between; align-items:center;}
  #container { display:flex; height:calc(100vh - 40px);}
  #users { width:240px; background:var(--panel); border-right:1px solid var(--line); overflow-y:auto;}
  #chat { flex:1; display:flex; flex-direction:column; }
  #topicBar { padding:8px 10px; border-bottom:1px solid var(--line); background:#000; font-weight:bold; }
  #messages { flex:1; padding:10px; overflow-y:auto; }
  #inputForm { display:flex; gap:6px; border-top:1px solid var(--line); padding:8px; }
  #inputForm input, #inputForm button { background:#000; color:var(--ink); border:1px solid var(--line); padding:6px 8px; }
  .hidden { display:none !important; }
  #messages .line { margin-bottom:6px; }
  #messages .me { color:#9f9; }
  #users .item { padding:8px 10px; border-bottom:1px solid #060; cursor:pointer; }
  #users .item.active { background:#020; font-weight:bold; }
  #users .item .tag { opacity:.8; font-size:12px; }
  .toolbar { display:flex; gap:8px; }

  /* --- Overlay + –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ --- */
  .overlay {
    position:fixed;
    top:0; left:0; right:0; bottom:0;
    background:rgba(0,0,0,0.8);
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:99;
  }
  .modal {
    background:var(--panel);
    border:1px solid var(--line);
    padding:20px;
    min-width:260px;
    box-shadow:0 0 12px #0f0;
    z-index:100;
  }
  .modal h3 { margin-top:0; text-align:center; }
  .modal input {
    width:100%;
    margin-bottom:12px;
    padding:6px 8px;
    background:#000;
    border:1px solid var(--line);
    color:var(--ink);
  }

  /* --- –ö–Ω–æ–ø–∫–∏ –ø–æ–¥ –æ–±—â–∏–π —Å—Ç–∏–ª—å --- */
  button {
    background:#000;
    border:1px solid var(--line);
    color:var(--ink);
    padding:6px 12px;
    cursor:pointer;
    font-family:monospace;
    transition:background 0.2s;
  }
  button:hover {
    background:#020;
  }
</style>
</head>
<body>

<div id="header">
  <span id="userInfo">Not logged in</span>
  <div class="toolbar">
    <button id="loginBtn">Login</button>
    <button id="adminBtn">Admin</button>
    <button id="logoutBtn" class="hidden">Logout</button>
  </div>
</div>

<div id="container">
  <div id="users"></div>
  <div id="chat">
    <div id="topicBar">üåê Global chat</div>
    <div id="messages"></div>
    <form id="inputForm" class="hidden">
      <input id="messageInput" type="text" placeholder="Type a message and press Enter‚Ä¶" autocomplete="off" />
      <button type="submit">Send</button>
    </form>
  </div>
</div>

<!-- Overlay + Auth Forms -->
<div id="overlay" class="overlay">
  <div id="loginForm" class="modal">
    <h3>Login</h3>
    <input id="loginName" placeholder="Login">
    <input id="loginPass" type="password" placeholder="Password">
    <div class="toolbar">
      <button type="button" onclick="doLogin()">Login</button>
      <button type="button" onclick="showRegister()">Register</button>
    </div>
  </div>

  <div id="registerForm" class="modal hidden">
    <h3>Register</h3>
    <input id="regName" placeholder="Login">
    <input id="regPass" type="password" placeholder="Password">
    <div class="toolbar">
      <button type="button" onclick="doRegister()">Register</button>
      <button type="button" onclick="showLogin()">Back</button>
    </div>
  </div>

  <div id="adminForm" class="modal hidden">
    <h3>Admin</h3>
    <input id="adminPwd" type="password" placeholder="Password">
    <div class="toolbar">
      <button type="button" onclick="adminLogin()">Enter</button>
    </div>
  </div>
</div>

<script>
/* —Ç–≤–æ–π JS, –Ω–æ –æ–±–Ω–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∫–∞–∑–∞: */
function showLogin(){
  document.getElementById("overlay").classList.remove("hidden");
  document.getElementById("loginForm").classList.remove("hidden");
  document.getElementById("registerForm").classList.add("hidden");
  document.getElementById("adminForm").classList.add("hidden");
}
function showRegister(){
  document.getElementById("loginForm").classList.add("hidden");
  document.getElementById("registerForm").classList.remove("hidden");
}
function showAdmin(){
  document.getElementById("loginForm").classList.add("hidden");
  document.getElementById("registerForm").classList.add("hidden");
  document.getElementById("adminForm").classList.remove("hidden");
}
function hideAll(){
  document.getElementById("overlay").classList.add("hidden");
  document.querySelectorAll(".modal").forEach(e=>e.classList.add("hidden"));
}
</script>
</body>
</html>
